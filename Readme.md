# 日本の気温マップ iOS アプリ 🌡️📱

日本の各地方の気温情報をインタラクティブに表示する iOS アプリケーションです。SwiftUI で開発されており、美しい UI と直感的な操作性を提供します。

## 📱 アプリ概要

このアプリは日本の 9 つの地方（北海道、東北、関東、中部、関西、中国、四国、九州、沖縄）の気温データを視覚的に表示し、各地方の詳細情報を確認できる iOS ネイティブアプリです。

## ⚠️ 重要な注意事項

- **表示される気温データは実際の気象データではありません**
- **教育・デモンストレーション目的で作成されています**
- **実際の気象情報は気象庁など公式機関でご確認ください**

## ✨ 主要機能

### 📊 統計情報表示

- **平均気温**: 全地方の平均気温を自動計算
- **最高気温**: 最も暑い地方の気温
- **最低気温**: 最も涼しい地方の気温
- **猛暑地域**: 36℃ 以上の地域数をカウント

### 🌡️ 温度表示システム

- **4 段階の色分け表示**:
  - 🔵 涼しい (20℃ 以下) - ブルーグラデーション
  - 🟡 暖かい (21-28℃) - オレンジグラデーション
  - 🔴 暑い (29-35℃) - レッドグラデーション
  - 🟣 非常に暑い (36℃ 以上) - ピンクグラデーション

### 📈 インタラクティブテーブル

- 地方別の現在気温をテーブル形式で表示
- タップで詳細情報を表示
- 選択した地方のハイライト機能

### 🔧 データ操作機能

- **🔄 気温更新**: ランダムに気温データを更新
- **🔥 温度順ソート**: 気温の高い順に並び替え
- **📍 地域順ソート**: 北から南の地理的順序に並び替え

### 💡 詳細情報パネル

選択した地方について以下の情報を表示:

- 現在の最高気温（グラデーション表示）
- 今日の天気コメント
- 服装の推奨事項
- 体感温度の説明
- 健康アドバイス

## 🚀 技術仕様

### 開発環境

- **言語**: Swift 5.0+
- **フレームワーク**: SwiftUI
- **最小対応 OS**: iOS 14.0
- **対応デバイス**: iPhone、iPad（ユニバーサルアプリ）

### アーキテクチャ

- **MVVM パターン**: `@ObservableObject`を使用した状態管理
- **Combine フレームワーク**: リアクティブプログラミング
- **SwiftUI**: 宣言的 UI 構築

### 主要な SwiftUI コンポーネント

- `LazyVGrid`: 統計情報の効率的なグリッド表示
- `LinearGradient`: 温度に応じた美しいグラデーション効果
- `NavigationView`: アプリ全体のナビゲーション
- `ScrollView`: スムーズなスクロール体験

## 📁 プロジェクト構造

### コアファイル構成

```
TemperatureMapApp.swift
├── データモデル
│   ├── RegionData: 地方データの構造体
│   └── TemperatureStats: 統計情報の構造体
├── データ管理
│   └── TemperatureDataManager: メインのデータ管理クラス
└── UIコンポーネント
    ├── HeaderView: アプリヘッダー
    ├── StatisticsView: 統計情報表示
    ├── LegendView: 温度区分凡例
    ├── TemperatureTableView: 気温テーブル
    ├── ControlButtonsView: 操作ボタン群
    ├── RegionDetailView: 地方詳細情報
    └── InstructionView: 使い方説明
```

### データ構造

#### RegionData 構造体

```swift
struct RegionData {
    let name: String          // 地方名
    let temps: [Int]          // 候補気温配列
    let comments: [String]    // 天気コメント配列
    var currentTemp: Int      // 現在気温
    var currentComment: String // 現在のコメント
}
```

#### TemperatureStats 構造体

```swift
struct TemperatureStats {
    let average: Int    // 平均気温
    let max: Int       // 最高気温
    let min: Int       // 最低気温
    let hotRegions: Int // 猛暑地域数
}
```

## 🛠️ セットアップ手順

### 1. 開発環境の準備

- **Xcode 12.0 以降**をインストール
- **iOS 14.0 以降**のシミュレーターまたは実機

### 2. プロジェクト作成

1. Xcode で新しいプロジェクトを作成
2. **iOS → App**を選択
3. **Interface: SwiftUI**を選択
4. **Language: Swift**を選択

### 3. コードの実装

1. 提供された Swift コードを`ContentView.swift`に配置
2. `@main`アノテーションを`TemperatureMapApp`に追加:

```swift
@main
struct TemperatureMapApp: App {
    var body: some Scene {
        WindowGroup {
            ContentView()
        }
    }
}
```

### 4. ビルドと実行

1. プロジェクトをビルド（⌘+B）
2. シミュレーターまたは実機で実行（⌘+R）

## 💻 使用方法

### 基本操作

1. **アプリ起動**: 自動的に気温データが表示されます
2. **地方選択**: テーブル内の任意の行をタップ
3. **詳細確認**: 画面下部で選択した地方の詳細情報を確認
4. **データ更新**: 「🔄 気温更新」ボタンをタップ

### ソート機能

- **🔥 温度順**: 最も暑い地方から順番に表示
- **📍 地域順**: 北海道から沖縄まで地理的順序で表示

### 統計情報の確認

- 画面上部の統計カードで全体の傾向を把握
- リアルタイムで更新される平均・最高・最低気温

## 📊 データ仕様

### 地方別データ設定

| 地方   | 気温範囲 | 特徴           |
| ------ | -------- | -------------- |
| 北海道 | 18-26℃   | 最も涼しい地域 |
| 東北   | 24-29℃   | 適度な気温     |
| 関東   | 30-34℃   | 暑い地域       |
| 中部   | 28-32℃   | 中程度の暑さ   |
| 関西   | 31-35℃   | 暑い地域       |
| 中国   | 29-33℃   | 暑い地域       |
| 四国   | 30-34℃   | 暑い地域       |
| 九州   | 32-36℃   | 非常に暑い地域 |
| 沖縄   | 34-38℃   | 最も暑い地域   |

### 温度分類システム

- **涼しい**: 20℃ 以下 → ブルー系表示
- **暖かい**: 21-28℃ → オレンジ系表示
- **暑い**: 29-35℃ → レッド系表示
- **非常に暑い**: 36℃ 以上 → ピンク系表示

## 🎨 UI/UX デザイン

### カラーパレット

- **プライマリカラー**: グリーン系グラデーション (#4CAF50 → #45a049)
- **セカンダリカラー**: ブルー系グラデーション (#2196F3 → #1976D2)
- **温度カラー**: 状況に応じた 4 色グラデーション

### デザイン原則

- **直感的操作**: タップ中心のシンプルな操作
- **視覚的フィードバック**: 色とアニメーションによる状態表示
- **アクセシビリティ**: 十分なコントラストと読みやすいフォント
- **レスポンシブデザイン**: iPhone/iPad 両対応

## 🔄 データ更新の仕組み

### 更新プロセス

1. 「気温更新」ボタンをタップ
2. 各地方の`temps`配列からランダムに新しい気温を選択
3. 各地方の`comments`配列からランダムに新しいコメントを選択
4. 統計情報を自動再計算
5. UI 全体をリアルタイム更新
6. 最終更新時刻を現在時刻に更新

### 更新される項目

- ✅ 各地方の現在気温
- ✅ 平均気温、最高気温、最低気温
- ✅ 猛暑地域数
- ✅ 色分け表示
- ✅ 天気コメント
- ✅ 最終更新時刻

## 🚦 エラーハンドリング

### 安全な実装

- **nil 安全**: Optional binding と nil coalescing 演算子を使用
- **配列の安全アクセス**: `randomElement()`メソッドでクラッシュを防止
- **型安全**: Swift の強力な型システムを活用

## 🧪 テスト・デバッグ

### プレビュー機能

- SwiftUI の`PreviewProvider`を活用
- リアルタイムで UI の確認が可能
- 複数のデバイスサイズでの表示確認

### デバッグのヒント

- **Xcode プレビュー**: `ContentView_Previews`で UI 確認
- **シミュレーター**: 複数の iOS デバイスでテスト
- **コンソール出力**: `print()`文でデータの状態確認

## 📱 対応デバイス・OS

### 対応 OS

- **iOS 14.0 以降**
- **iPadOS 14.0 以降**

### 対応デバイス

- **iPhone**: SE (第 2 世代) 〜 iPhone 15 Pro Max
- **iPad**: iPad (第 8 世代) 〜 iPad Pro (第 6 世代)

### パフォーマンス

- **メモリ使用量**: 軽量設計で低メモリ消費
- **バッテリー効率**: SwiftUI の最適化により高効率
- **レスポンス**: 60FPS のスムーズなアニメーション

## 🔧 カスタマイズ・拡張

### 簡単にカスタマイズできる要素

1. **気温データ**: `temperatureData`辞書の値を変更
2. **カラーテーマ**: `temperatureGradient`の色を変更
3. **地方の追加**: `RegionData`配列に新しい地方を追加
4. **コメントの追加**: `comments`配列に新しいメッセージを追加

### 拡張可能な機能

- 実際の気象 API との連携
- プッシュ通知機能
- お気に入り地方の保存機能
- 履歴データの表示
- マップビューとの連携

---

**作成日**: 2025 年 7 月
